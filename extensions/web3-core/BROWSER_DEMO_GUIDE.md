# 🌐 Web3 Core 浏览器演示指南

## ✅ 演示页面已启动

**访问地址**: http://localhost:8080/demo.html

服务器已在后台运行（端口 8080），演示页面已自动在浏览器中打开。

---

## 🎯 功能区域说明

演示页面分为 **6 个交互式卡片**，每个卡片对应一个核心功能模块：

### 1️⃣ 🔐 身份认证

**功能**: 基于 SIWE (Sign-In with Ethereum) 的钱包登录

**操作步骤**:

1. 页面加载时已自动生成示例钱包地址
2. 点击 **"生成 SIWE 挑战"** - 查看标准的 SIWE 认证消息
3. 点击 **"绑定钱包"** - 模拟绑定操作
4. 点击 **"查看身份"** - 显示当前绑定的钱包信息

**输出示例**:

```
✅ 钱包绑定成功
地址: 0x1234...5678
时间: 14:30:25
状态: 已验证
```

---

### 2️⃣ 📝 审计追踪

**功能**: LLM 交互日志记录与链上锚定

**操作步骤**:

1. 点击 **"创建审计事件"** - 生成新的审计记录
2. 点击 **"查询审计日志"** - 查看所有事件
3. 点击 **"验证数据完整性"** - 检查日志完整性

**特色**:

- 下方会显示 **时间线视图**，展示最近 5 条事件
- 每个事件包含唯一 ID、类型、时间戳和哈希

---

### 3️⃣ 💰 计费保护

**功能**: 配额管理与使用追踪

**操作步骤**:

1. 查看顶部的 **实时配额统计** (已使用 / 剩余)
2. 点击 **"查看配额状态"** - 详细配额报告
3. 点击 **"模拟使用"** - 随机消耗 10-60 credits
4. 点击 **"查看支付状态"** - 查看支付历史

**动态效果**:

- 每次 "模拟使用" 会实时更新顶部的配额数字
- 使用率超过 80% 会显示警告状态

---

### 4️⃣ 💾 去中心化存储

**功能**: IPFS/Arweave/Filecoin 数据归档

**操作步骤**:

1. 从下拉菜单选择存储提供商 (IPFS/Arweave/Filecoin)
2. 点击 **"上传示例数据"** - 生成 CID 并模拟上传
3. 点击 **"检索数据"** - 查看最近上传的内容
4. 点击 **"存储状态"** - 查看所有上传的统计信息

**输出示例**:

```
✅ 上传成功
提供商: IPFS
CID: QmXyZ...abc
大小: 3.45 KB
访问 URL: https://gateway.pinata.cloud/ipfs/...
```

---

### 5️⃣ ⛓️ 链上锚定

**功能**: Base/Optimism/Arbitrum 数据哈希锚定

**操作步骤**:

1. 从下拉菜单选择目标链 (Base/Optimism/Arbitrum)
2. 点击 **"锚定数据哈希"** - 生成链上交易
3. 点击 **"验证锚定"** - 检查交易状态和确认数
4. 点击 **"锚定历史"** - 查看所有锚定记录

**输出示例**:

```
✅ 锚定成功
目标链: BASE
交易哈希: 0xabc...def
区块高度: 10234567
区块浏览器: https://basescan.org/tx/...
```

---

### 6️⃣ 📊 整体状态

**功能**: Web3 系统状态总览

**操作步骤**:

1. 点击 **"获取完整状态"** - 显示所有模块的综合状态
2. 点击 **"健康检查"** - 运行系统健康诊断 (有加载动画)
3. 点击 **"重置演示"** - 清空所有模拟数据，重新开始

**健康检查项**:

- ✅ 插件加载状态
- ✅ 配置文件有效性
- ✅ 存储连接
- ✅ RPC 节点
- ✅ 本地数据库
- ✅ 后台服务

---

## 🎨 界面特性

### 视觉效果

- **渐变背景**: 紫色到紫红色的现代渐变
- **卡片悬停**: 鼠标悬停时卡片会轻微上浮并加深阴影
- **按钮动效**: 点击按钮有缩放动画
- **加载动画**: 健康检查时有脉冲加载效果

### 交互反馈

- **实时输出**: 每个操作都有详细的文本输出
- **时间线视图**: 审计事件以时间线形式展示
- **统计数字**: 计费模块的配额数字实时更新
- **状态徽章**: 页面顶部显示插件版本和状态

---

## 🔄 推荐体验流程

### 完整功能体验 (5 分钟)

```
1. 身份认证
   → 生成 SIWE 挑战
   → 绑定钱包
   → 查看身份

2. 审计追踪
   → 创建 3-5 个审计事件
   → 查询审计日志
   → 查看时间线视图
   → 验证数据完整性

3. 计费保护
   → 查看初始配额 (1000)
   → 模拟使用 5-10 次
   → 观察配额数字变化
   → 查看支付状态

4. 去中心化存储
   → 切换到 IPFS
   → 上传数据 (获得 CID)
   → 切换到 Arweave
   → 再上传一次
   → 检索数据
   → 查看存储状态

5. 链上锚定
   → 选择 Base 链
   → 锚定数据
   → 验证锚定
   → 切换到 Optimism
   → 再锚定一次
   → 查看锚定历史

6. 整体状态
   → 获取完整状态 (查看所有模块统计)
   → 运行健康检查 (看加载动画)
   → [可选] 重置演示重新开始
```

---

## 🛠️ 服务器管理

### 查看服务器状态

```bash
lsof -i :8080 | grep LISTEN
```

### 停止服务器

```bash
# 方法 1: 通过进程 ID
lsof -ti :8080 | xargs kill

# 方法 2: 直接杀死 Python HTTP 服务器
pkill -f "python3 -m http.server 8080"
```

### 重启服务器

```bash
cd /Users/huangrenbin/Documents/UGit/openclaw/extensions/web3-core
python3 -m http.server 8080 &
```

### 在浏览器中重新打开

```bash
open http://localhost:8080/demo.html
```

---

## 📱 多设备访问

如果你想在**同一局域网**的其他设备上访问：

1. 查找本机 IP 地址:

   ```bash
   ifconfig | grep "inet " | grep -v 127.0.0.1
   ```

2. 在其他设备浏览器中访问:
   ```
   http://<你的IP地址>:8080/demo.html
   ```
   例如: `http://192.168.1.100:8080/demo.html`

---

## 🧪 测试数据说明

**所有数据都是模拟的**，包括:

- ✅ 钱包地址: 随机生成的 0x 开头的 40 位十六进制
- ✅ 交易哈希: 随机生成的 0x 开头的 64 位十六进制
- ✅ CID: 符合 IPFS CIDv1 格式的随机字符串
- ✅ 区块高度: 随机生成的 7-8 位数字
- ✅ 时间戳: 真实的本地时间

**不会产生真实的区块链交易或存储上传**，完全安全。

---

## 📚 相关文档

- [README.md](./README.md) - 项目概览
- [QUICKSTART.md](./QUICKSTART.md) - 5 分钟快速上手
- [ARCHITECTURE.md](./ARCHITECTURE.md) - 完整架构设计
- [demo.ts](./demo.ts) - Node.js 命令行演示

---

## 🎯 下一步

体验完浏览器演示后，可以：

1. **阅读源码**: 查看 `src/` 目录下的 21 个 TypeScript 文件
2. **运行 CLI 演示**: `node --import tsx demo.ts`
3. **配置真实环境**: 编辑 `~/.openclaw/openclaw.json`
4. **启用插件**: `pnpm openclaw plugins enable web3-core`
5. **集成到 Gateway**: 重启 OpenClaw Gateway 应用配置

---

**🎉 享受 Web3 Core 插件的强大功能！**

有问题？查看 [README.md](./README.md) 或访问 https://github.com/openclaw/openclaw
